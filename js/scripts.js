console.log("JS loaded");const pokemonRepository=function(){let e=[];function t(){return e}function n(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=20")}function o(e){return fetch(e.url).then(t=>t.json().then(t=>({name:e.name,height:t.height,imageUrl:t.sprites.front_default})))}return{getAll:t,add:function t(n){"object"==typeof n&&n.name&&n.url?e.push(n):console.log("Invalid Pok\xe9mon")},addAllToList:function e(){n().then(e=>{console.log("raw response",e),e.json().then(e=>{console.log("parsed response",e),e.results.forEach(e=>{var t;let n,l,i;return t=e,n=document.querySelector("#pokemon-list"),(l=document.createElement("li")).classList.add("list-group-item"),void((i=document.createElement("button")).innerText=t.name,i.className="btn btn-primary",l.appendChild(i),n.appendChild(l),i.addEventListener("click",function(){!function e(t){o(t).then(e=>{modalController.showModal(e)})}(t)}))})})}).catch(e=>{console.error("API failed")})},loadDetails:o,loadList:n}}(),modalController=function(){let e=document.getElementById("modal-container"),t=document.querySelector(".close-button");function n(){e.style.display="none"}return t.addEventListener("click",n),window.addEventListener("keydown",function e(t){"Escape"===t.key&&n()}),window.addEventListener("click",function t(o){o.target===e&&n()}),{showModal:function t(n){let o=document.getElementById("pokemon-name"),l=document.getElementById("pokemon-height"),i=document.getElementById("pokemon-image");o.innerText=n.name,l.innerText=`Height: ${n.height}`,i.src=n.imageUrl,i.alt=n.name,e.style.display="block"},hideModal:n}}();pokemonRepository.addAllToList();